<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
  }
  .container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background-color: #fff;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  h1 {
    text-align: center;
    margin-bottom: 20px;
  }
  h2 {
    font-size: 24px;
    margin-bottom: 10px;
  }
  p {
    font-size: 16px;
    margin-bottom: 5px;
  }
  ul {
    list-style: none;
    padding: 0;
  }
  li {
    margin-bottom: 10px;
    padding: 10px;
    background-color: #f9f9f9;
    border-radius: 5px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  a {
    text-decoration: none;
    color: #007bff;
    font-weight: bold;
  }
  a:hover {
    color: #0056b3;
  }
  button {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover {
    background-color: #0056b3;
  }
</style>

<div class="container">


<a href="/userProfile">Profile</a>
<a href="/my-goals">All my goals</a>

<h1>Goal details</h1>

<div>
  <h2>{{goal.title}}</h2>
  <p>Category: {{goal.category}}</p>
  <p>Reason: {{goal.reason}}</p>
  <p>Is Public: {{goal.isPublic}}</p>
  <p>Is Private: {{goal.isPrivate}}</p>
  <p>Steps:</p>
  <ul>
    {{#each goal.steps}}
      <li>
        <a href="/my-goals/goal/{{this._id}}">{{this.type}}</a>
        (Completed:
        {{this.isCompleted}})</li>
    {{/each}}
  </ul>
</div>

<button id="edit-goal">Edit Goal</button>

<div id="edit-form" style="display: none;">
  <h2>Edit Goal</h2>
  <form method="POST" action="/my-goals/editGoal/{{goal._id}}">

    <input
      type="text"
      name="title"
      value="{{goal.title}}"
      placeholder="Edit Goal Title"
    />

    <label for="category">Category:
      <select name="category" required>
        <option value="{{goal.category}}"> "Edit Goal Category"</option>
        <option value="Health">Health</option>
        <option value="Sports">Sports</option>
        <option value="Personal Life">Personal Life</option>
        <option value="Education">Education</option>
        <option value="Career">Career</option>
        <option value="Family">Family</option>
        <option value="Financial goals">Financial goals</option>
        <option value="Lifestyle">Lifestyle</option>
        <option value="Stop bad habits">Stop bad habits</option>
      </select>
    </label><br />

    <div>
      <label for="reason">
        <p>
          Why do you want this?
        </p>
        <textarea
          name="reason"
          placeholder="Edit Goal Reason"
        >{{goal.reason}}</textarea>
      </label>
    </div>

    <label for="isPublic">Public:
      <input type="checkbox" name="isPublic" /></label>

    <label for="isPrivate">Private:
      <input type="checkbox" name="isPrivate" /></label><br />

    <button type="submit">Edit Goal</button>
  </form>
</div>

{{! This is to display the Edit form when the Edit button is clicked. }}
<script>
  const editButton = document.getElementById('edit-goal'); const editForm =
  document.getElementById('edit-form'); editButton.addEventListener('click', ()
  => { editForm.style.display = 'block'; });
</script>

<!-- Add the Delete button -->
<form id="delete-form" method="POST" action="/my-goals/deleteGoal/{{goal._id}}">
  <button type="submit" id="delete-goal">Delete Goal</button>
</form>


<script>
    const deleteButton = document.getElementById('delete-goal');
    const deleteForm = document.getElementById('delete-form');
    deleteButton.addEventListener('click', () => {
      const confirmed = confirm('Are you sure you want to delete this goal?');
      if (confirmed) {
        deleteForm.submit();
      }
    });
  </script>



