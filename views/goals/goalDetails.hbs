<a href="/userProfile">Profile</a>
<a href="/my-goals">All my goals</a>

<h1>Goal details</h1>

<div>
  <h2>{{goal.title}}</h2>
  <p>Category: {{goal.category}}</p>
  <p>Reason: {{goal.reason}}</p>
  <p>Is Public: {{goal.isPublic}}</p>
  <p>Is Private: {{goal.isPrivate}}</p>
  <p>Steps:</p>
  <ul>
    {{#each goal.steps}}
      <li>
        <a href="/my-goals/goal/{{this._id}}">{{this.type}}</a>
        (Completed:
        {{this.isCompleted}})</li>
    {{/each}}
  </ul>

</div>

<button id="edit-goal">Edit Goal</button>

<div id="edit-form" style="display: none;">
  <h2>Edit Goal</h2>
  <form method="POST" action="/my-goals/editGoal/{{goal._id}}">

    <!-- Include other form fields here for editing -->

    <input
      type="text"
      name="title"
      value="{{goal.title}}"
      placeholder="Edit Goal Title"
    />

    <label for="category">Category:
      <select name="category" required>
        <option value="{{goal.category}}"> "Edit Goal Category"</option>
        <option value="Health">Health</option>
        <option value="Sports">Sports</option>
        <option value="Personal Life">Personal Life</option>
        <option value="Education">Education</option>
        <option value="Career">Career</option>
        <option value="Family">Family</option>
        <option value="Financial goals">Financial goals</option>
        <option value="Lifestyle">Lifestyle</option>
        <option value="Stop bad habits">Stop bad habits</option>
      </select>
    </label><br />

    <div>
      <label for="reason">
        <p>
          Why do you want this?
        </p>
        <textarea
          name="reason"
          placeholder="Edit Goal Reason"
        >{{goal.reason}}</textarea>
      </label>
    </div>

    <label for="isPublic">Public:
      <input type="checkbox" name="isPublic" /></label>

    <label for="isPrivate">Private:
      <input type="checkbox" name="isPrivate" /></label><br />

    <button type="submit">Edit Goal</button>
  </form>
</div>

{{! This is to display the Edit form when the Edit button is clicked. }}
<script>
  const editButton = document.getElementById('edit-goal'); const editForm =
  document.getElementById('edit-form'); editButton.addEventListener('click', ()
  => { editForm.style.display = 'block'; });
</script>

<!-- Add the Delete button -->
<form id="delete-form" method="POST" action="/my-goals/deleteGoal/{{goal._id}}">
  <button type="submit" id="delete-goal">Delete Goal</button>
</form>

<!-- Add the JavaScript code to display a confirmation prompt -->
<script>
  const deleteButton = document.getElementById('delete-goal'); const deleteForm
  = document.getElementById('delete-form');
  deleteButton.addEventListener('click', () => { // Display a confirmation
  prompt before deleting const confirmed = confirm('Are you sure you want to
  delete this goal?'); if (confirmed) { deleteForm.submit(); // Submit the form
  to perform the delete action } });
</script>


